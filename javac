1. WalletTransactionEntity

ğŸ‘‰ Har baar jab balance add/remove hoga ya order place hoga, uska ek transaction record rahe.
Fields:

transaction_id (PK)

wallet_id (FK â†’ wallet)

amount (positive = credit, negative = debit)

type (e.g. DEPOSIT, WITHDRAW, ORDER_DEBIT, ORDER_REFUND)

created_at (timestamp)

description (optional: â€œAdded via UPIâ€, â€œDebited for order #123â€)

2. PortfolioEntity

ğŸ‘‰ User ke pass kaunse assets hain aur kitni quantity, ye store karega. Ye aggregated view hai jo Orders table se update hoga.
Fields:

portfolio_id (PK)

user_id (FK â†’ users)

asset_id (FK â†’ dashboard)

total_quantity

avg_buy_price (important for P&L)

last_updated (timestamp)

3. UserProfileEntity (optional but useful)

ğŸ‘‰ Agar tumhe Users table light rakhna hai, to profile alag rakho.
Fields:

user_id (FK â†’ users)

full_name

email

phone

kyc_status (PENDING / VERIFIED)

created_at

4. (Optional but Recommended) AuditLogEntity

ğŸ‘‰ Backend actions ka log (debugging + security).
Fields:

log_id (PK)

user_id (FK â†’ users, nullable for system actions)

action (e.g. LOGIN, ORDER_PLACED, WALLET_DEBIT)

details (JSON/text)

created_at

âœ… Phase 1 Minimum Entities Set

Users âœ…

Wallet âœ…

Orders âœ…

Dashboard (Assets) âœ…

WalletTransactions ğŸ”¥ (zaroori hai)

Portfolio ğŸ”¥ (zaroori hai)

UserProfile & AuditLog optional hai, lekin project ko professional banate hain.

ğŸ‘‰ Suggestion: Pehle hum WalletTransactions aur Portfolio bna lete hain. Ye dono entities tumhare flow ko complete kar denge:

User adds money â†’ Wallet + WalletTransactions update.

User places order â†’ Orders table me entry + Wallet debit + Portfolio update.

User cancels order â†’ Refund to Wallet + Portfolio rollback.